<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sponsors - SHSID GT Racing</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://kit.fontawesome.com/3b161c540c.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        .sponsors-showcase {
            background-color: #000;
            padding: 80px 0;
        }
        
        .partner-category {
            margin-bottom: 100px;
            opacity: 0;
            transform: translateY(20px);
            animation: fadeInUp 0.8s ease forwards;
        }
        
        .partner-category:nth-child(1) {
            animation-delay: 0.2s;
        }
        
        .partner-category:nth-child(2) {
            animation-delay: 0.4s;
        }
        
        .partner-category:nth-child(3) {
            animation-delay: 0.6s;
        }
        
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .partner-category h2 {
            color: var(--text-color);
            font-size: 2.5rem;
            margin-bottom: 40px;
            text-align: left;
            font-weight: 500;
            letter-spacing: 1px;
        }
        
        .partner-category h2:after {
            width: 50px;
            height: 3px;
            left: 0;
            bottom: -15px;
        }
        
        .sponsor-logo-grid {
            display: flex;
            flex-wrap: wrap;
            align-items: center;
            justify-content: flex-start;
            gap: 60px;
            width: 100%;
        }
        
        .principal-partner .sponsor-logo {
            max-width: 350px;
            margin: 0;
            text-align: center;
        }
        
        .principal-partner .sponsor-logo:first-child {
            max-width: 400px; /* Make XTT logo bigger */
        }
        
        .principal-partner .sponsor-logo:first-child img {
            max-height: 120px; /* Make XTT logo bigger */
        }
        
        .team-partners .sponsor-logo,
        .team-suppliers .sponsor-logo {
            flex: 0 0 calc(25% - 60px);
            margin-bottom: 20px;
        }
        
        .sponsor-logo {
            background-color: #000;
            padding: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 0;
            min-height: 80px;
            transition: all 0.3s ease;
            opacity: 0;
            transform: translateY(10px);
            animation: fadeIn 0.5s ease forwards;
        }
        
        .sponsor-logo-grid .sponsor-logo:nth-child(1) { animation-delay: 0.1s; }
        .sponsor-logo-grid .sponsor-logo:nth-child(2) { animation-delay: 0.2s; }
        .sponsor-logo-grid .sponsor-logo:nth-child(3) { animation-delay: 0.3s; }
        .sponsor-logo-grid .sponsor-logo:nth-child(4) { animation-delay: 0.4s; }
        .sponsor-logo-grid .sponsor-logo:nth-child(5) { animation-delay: 0.5s; }
        .sponsor-logo-grid .sponsor-logo:nth-child(6) { animation-delay: 0.6s; }
        
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .sponsor-logo img {
            max-width: 80%;
            height: auto;
            transition: all 0.3s ease;
            object-fit: contain;
            max-height: 100px;
            opacity: 1;
        }
        
        /* Make specific sponsor logos bigger */
        .team-partners .sponsor-logo:nth-child(2) img {
            max-height: 110px; /* Larger size for SKT-NSL logo */
        }
        
        .team-suppliers .sponsor-logo:nth-child(4) img {
            max-height: 110px; /* Larger size for Mouser Electronics logo */
        }
        
        .sponsor-logo:hover img {
            transform: scale(1.05);
            opacity: 0.8;
        }
        
        .sponsor-benefits {
            background-color: var(--secondary-color);
            padding: 80px 0;
        }
        
        .sponsor-cta {
            background-color: var(--primary-color);
            padding: 80px 0;
        }
        
        .sponsors-overview {
            background-color: var(--secondary-color);
            padding: 100px 0;
        }
        
        .sponsors-overview h2 {
            font-size: 2.5rem;
            margin-bottom: 40px;
            font-weight: 500;
        }
        
        .sponsors-overview h2:after {
            left: 0;
        }
        
        .sponsors-overview p {
            font-size: 1.1rem;
            line-height: 1.8;
            margin-bottom: 25px;
        }
        
        .benefit-card {
            background-color: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            padding: 30px;
            transition: all 0.3s ease;
        }
        
        .benefit-card:hover {
            transform: translateY(-5px);
            background-color: rgba(255, 255, 255, 0.08);
        }
        
        .benefit-icon {
            color: var(--accent-color);
            font-size: 2rem;
            margin-bottom: 20px;
        }
        
        .benefit-card h3 {
            font-size: 1.5rem;
            margin-bottom: 15px;
            font-weight: 500;
        }
        
        @media (max-width: 992px) {
            .team-partners .sponsor-logo,
            .team-suppliers .sponsor-logo {
                flex: 0 0 calc(33.33% - 60px);
            }
        }
        
        @media (max-width: 768px) {
            .team-partners .sponsor-logo,
            .team-suppliers .sponsor-logo {
                flex: 0 0 calc(50% - 60px);
            }
            
            .page-hero h1 {
                font-size: 3rem;
            }
        }
        
        @media (max-width: 576px) {
            .team-partners .sponsor-logo,
            .team-suppliers .sponsor-logo,
            .principal-partner .sponsor-logo {
                flex: 0 0 calc(100% - 30px);
                margin: 0 auto 30px;
            }
            
            .sponsor-logo-grid {
                gap: 30px;
            }
            
            .page-hero h1 {
                font-size: 2.5rem;
            }
        }
        
        /* Budget Breakdown Styles */
        .budget-breakdown {
            background-color: #000;
            padding: 80px 0;
            color: var(--text-color);
        }
        
        .budget-breakdown h2 {
            color: var(--text-color);
            font-size: 2.5rem;
            margin-bottom: 20px;
            font-weight: 500;
            position: relative;
        }
        
        .budget-breakdown h2:after {
            content: '';
            position: absolute;
            width: 50px;
            height: 3px;
            background-color: var(--accent-color);
            left: 0;
            bottom: -15px;
        }
        
        .budget-breakdown p {
            font-size: 1.1rem;
            line-height: 1.8;
            margin-bottom: 40px;
        }
        
        .chart-container {
            display: flex;
            flex-direction: column;
            gap: 30px;
            margin-bottom: 50px;
            animation: fadeIn 0.8s ease forwards;
        }
        
        .chart-wrapper {
            background-color: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            padding: 30px;
            width: 100%;
            height: 400px;
            position: relative;
            border: 1px solid rgba(255, 255, 255, 0.1);
            min-height: 400px;
        }
        
        .chart-controls {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .view-selector {
            display: flex;
            gap: 10px;
        }
        
        .chart-btn {
            background-color: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: var(--text-color);
            padding: 10px 20px;
            border-radius: 30px;
            cursor: pointer;
            font-family: 'DM Sans', sans-serif;
            font-weight: 500;
            transition: all 0.3s ease;
        }
        
        .chart-btn:hover {
            background-color: rgba(255, 255, 255, 0.2);
        }
        
        .chart-btn.active {
            background-color: var(--accent-color);
            border-color: var(--accent-color);
            color: #000;
        }
        
        .budget-details {
            display: flex;
            flex-direction: column;
            gap: 20px;
            margin-top: 40px;
        }
        
        .budget-item {
            background-color: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            padding: 25px;
            display: none;
            opacity: 0;
            animation: fadeIn 0.5s ease forwards;
        }
        
        .budget-item.active {
            display: block;
        }
        
        .budget-item h3 {
            font-size: 1.5rem;
            margin-bottom: 20px;
            display: flex;
            justify-content: space-between;
            font-weight: 500;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            padding-bottom: 10px;
        }
        
        .budget-amount {
            color: var(--accent-color);
            font-weight: 700;
        }
        
        .budget-item ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        
        .budget-item li {
            display: flex;
            justify-content: space-between;
            padding: 12px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            font-family: 'DM Sans', sans-serif;
        }
        
        .budget-item li:last-child {
            border-bottom: none;
        }
        
        .budget-item li span {
            color: var(--accent-color);
            font-weight: 500;
        }
        
        @media (max-width: 768px) {
            .chart-wrapper {
                height: 350px;
                padding: 20px;
            }
            
            .chart-btn {
                padding: 8px 15px;
                font-size: 0.9rem;
            }
            
            .budget-item h3 {
                font-size: 1.3rem;
            }
        }
        
        @media (max-width: 576px) {
            .chart-wrapper {
                height: 300px;
                padding: 15px;
            }
            
            .view-selector {
                flex-direction: column;
                gap: 5px;
                width: 100%;
            }
            
            .chart-btn {
                width: 100%;
                text-align: center;
            }
            
            .budget-item h3 {
                font-size: 1.2rem;
                flex-direction: column;
                gap: 5px;
            }
        }
    </style>
</head>
<body>
    <!-- Header & Navigation -->
    <header>
        <div class="container">
            <nav>
                <ul class="nav-left">
                    <li><a href="cars.html" data-i18n="nav-cars">Cars</a></li>
                    <li><a href="team.html" data-i18n="nav-team">Team</a></li>
                </ul>
                <div class="logo">
                    <a href="index.html">
                        <img src="GT Picture/gt-racing-logo.PNG" alt="GT Racing Logo">
                    </a>
                </div>
                <ul class="nav-right">
                    <li><a href="racing.html" data-i18n="nav-racing">Racing</a></li>
                    <li><a href="sponsors.html" class="active" data-i18n="nav-sponsors">Sponsors</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Sponsors Hero -->
    <section class="page-hero" style="background-image: url('GT Picture/team-booth.JPG')">
        <div class="container">
            <h1 data-i18n="sponsors-hero-title">Sponsors</h1>
        </div>
    </section>

    <!-- Sponsors Showcase -->
    <section class="sponsors-showcase">
        <div class="container">            
            <!-- Principal Partner -->
            <div class="partner-category principal-partner">
                <h2 data-i18n="sponsors-principal-title">Principal Partner</h2>
                <div class="sponsor-logo-grid">
                    <div class="sponsor-logo">
                        <a href="https://www.xfgshop.com" target="_blank">
                            <img src="GT Sponsor/xietaitai.pic.jpg" alt="蟹太太 (Xie Tai Tai)">
                        </a>
                    </div>
                    <div class="sponsor-logo">
                        <a href="https://shakeppf.com" target="_blank">
                            <img src="GT Sponsor/yiche_shake.jpg" alt="易车鲨壳 (Yiche Shake)">
                        </a>
                    </div>
                </div>
            </div>

            <!-- Team Partners -->
            <div class="partner-category team-partners">
                <h2 data-i18n="sponsors-china-title">China Round Sponsors</h2>
                <div class="sponsor-logo-grid">
                    <div class="sponsor-logo">
                        <a href="https://www.sktedu.com/#/index" target="_blank">
                            <img src="GT Sponsor/skt.pic.jpg" alt="SKT">
                        </a>
                    </div>
                    <div class="sponsor-logo">
                        <a href="https://www.webloom.cn/bloom_web/#/GameData/NSL?contestId=1017697405835063297&seasonId=1517687156498460672" target="_blank">
                            <img src="GT Sponsor/skt_nsl.pic.jpg" alt="SKT-NSL">
                        </a>
                    </div>
                </div>
            </div>

            <!-- Team Suppliers -->
            <div class="partner-category team-suppliers">
                <h2 data-i18n="sponsors-global-title">Global Round Sponsors</h2>
                <div class="sponsor-logo-grid">
                    <div class="sponsor-logo">
                        <a href="https://www.charlottemotorspeedway.com" target="_blank">
                            <img src="GT Sponsor/charlotte_motor_speedway.pic.jpg" alt="Charlotte Motor Speedway">
                        </a>
                    </div>
                    <div class="sponsor-logo">
                        <a href="https://www.analog.com" target="_blank">
                            <img src="GT Sponsor/analog_devices.pic.jpg" alt="Analog Devices">
                        </a>
                    </div>
                    <div class="sponsor-logo">
                        <a href="https://www.ten80education.com" target="_blank">
                            <img src="GT Sponsor/ten80.pic.jpg" alt="Ten80">
                        </a>
                    </div>
                    <div class="sponsor-logo">
                        <a href="https://www.mouser.com" target="_blank">
                            <img src="GT Sponsor/mouser_electronics.pic.jpg" alt="Mouser Electronics">
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Sponsors Overview -->
    <section class="sponsors-overview">
        <div class="container">
            <h2 data-i18n="sponsors-overview-title">Our Sponsors</h2>
            <p data-i18n="sponsors-overview-desc1">GT Racing is supported by a range of sponsors who share our vision and values. Through their support, we are able to continue pushing the boundaries of RC racing technology and performance.</p>
            <p data-i18n="sponsors-overview-desc2">In the 2024-2025 season, we received valuable sponsorship that allowed us to allocate over ¥25,000 for innovating, maintaining, and improving our car design, as well as supporting our business operations. This funding is crucial for our continued success and growth.</p>
        </div>
    </section>

    <!-- Sponsor Benefits -->
    <section class="sponsor-benefits">
        <div class="container">
            <h2 data-i18n="sponsors-benefits-title">Sponsor Benefits</h2>
            <p data-i18n="sponsors-benefits-desc">As a sponsor supporting GT Racing, you receive numerous benefits in return. These include:</p>
            
            <div class="benefits-grid">
                <div class="benefit-card">
                    <div class="benefit-icon">
                        <i class="fas fa-eye"></i>
                    </div>
                    <h3 data-i18n="sponsors-benefit1-title">Brand Visibility</h3>
                    <p data-i18n="sponsors-benefit1-desc">Logos featured on team jerseys, car shells, posters, booth decorations, and all competition-related products, exposing your brand to hundreds or thousands of people at every event.</p>
                </div>
                <div class="benefit-card">
                    <div class="benefit-icon">
                        <i class="fas fa-bullhorn"></i>
                    </div>
                    <h3 data-i18n="sponsors-benefit2-title">Media Exposure</h3>
                    <p data-i18n="sponsors-benefit2-desc">Video promotions on social media (Douyin, WeChat video channel), article promotions on our WeChat official account, and exposure through school official news. Our WeChat articles average 400+ views while Bilibili videos receive 300+ views.</p>
                </div>
                <div class="benefit-card">
                    <div class="benefit-icon">
                        <i class="fas fa-calendar-alt"></i>
                    </div>
                    <h3 data-i18n="sponsors-benefit3-title">Events</h3>
                    <p data-i18n="sponsors-benefit3-desc">Presentation promotions inside and outside of school, as well as possible events or sharing sessions to help advertise your services or products to a targeted audience interested in STEM and racing.</p>
                </div>
                <div class="benefit-card">
                    <div class="benefit-icon">
                        <i class="fas fa-handshake"></i>
                    </div>
                    <h3 data-i18n="sponsors-benefit4-title">Custom Collaborations</h3>
                    <p data-i18n="sponsors-benefit4-desc">Additional needs or expectations from sponsors can be negotiated to create mutually beneficial partnerships that serve your specific marketing and community engagement goals.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Budget Breakdown -->
    <section class="budget-breakdown">
        <div class="container">
            <h2 data-i18n="sponsors-budget-title">Season Budget Breakdown</h2>
            <p data-i18n="sponsors-budget-desc">Our estimated budget for the 2024-2025 season is ¥25,350. Here's how we plan to allocate these funds:</p>
            
            <div class="chart-container">
                <div class="chart-wrapper">
                    <canvas id="budgetChart"></canvas>
                </div>
                <div class="chart-controls">
                    <div class="view-selector">
                        <button class="chart-btn active" data-chart="category">By Category</button>
                        <button class="chart-btn" data-chart="item">By Item</button>
                    </div>
                </div>
            </div>
            
            <div class="budget-details">
                <div class="budget-item active" data-category="rc-car">
                    <h3>RC Car <span class="budget-amount">¥8,000</span></h3>
                    <ul>
                        <li>RC Car <span>¥3,000</span></li>
                        <li>RC Car Frame <span>¥3,000</span></li>
                        <li>Titanium + Carbon Fiber Parts <span>¥2,000</span></li>
                    </ul>
                </div>
                <div class="budget-item" data-category="pr-business">
                    <h3>Public Relations / Business <span class="budget-amount">¥6,500</span></h3>
                    <ul>
                        <li>Team Jerseys <span>¥1,000</span></li>
                        <li>Booth Decoration <span>¥2,000</span></li>
                        <li>Merchandise and Gifts <span>¥1,000</span></li>
                        <li>Business Backup Budget <span>¥2,000</span></li>
                        <li>Material Delivery Fee <span>¥500</span></li>
                    </ul>
                </div>
                <div class="budget-item" data-category="mod-maintenance">
                    <h3>Mod & Maintenance <span class="budget-amount">¥10,850</span></h3>
                    <ul>
                        <li>Car Shell + Spray Paint <span>¥1,800</span></li>
                        <li>Battery <span>¥2,000</span></li>
                        <li>Power Unit Modification <span>¥2,500</span></li>
                        <li>Suspension <span>¥1,000</span></li>
                        <li>Transmission <span>¥1,200</span></li>
                        <li>Backup Tools <span>¥1,000</span></li>
                        <li>Vehicle Handbag <span>¥400</span></li>
                        <li>Electric Drill+Bit <span>¥800</span></li>
                        <li>Electric Grinder <span>¥200</span></li>
                        <li>General screws (m3, m4) <span>¥150</span></li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <!-- Sponsor CTA -->
    <section class="sponsor-cta">
        <div class="container">
            <h2 data-i18n="sponsors-cta-title">Join Our Journey</h2>
            <p data-i18n="sponsors-cta-desc1">We are currently seeking sponsorship of ¥25350 to cover our budget for completing club-related purchases. This funding will not only support our team but assist our mission to build a community for students passionate about STEM subjects.</p>
            <p data-i18n="sponsors-cta-desc2">For the 2024-2025 season, we plan to allocate our funds to tool procurement, car components, team jerseys, marketing expenses, and other associated costs to enhance our team's performance in upcoming competitions.</p>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-branding">
                    <div class="footer-logo">
                        <img src="GT Picture/gt-racing-logo.PNG" alt="GT Racing Logo">
                    </div>
                    <div class="team-name">SHSID GT Racing</div>
                </div>
                <div class="footer-contact">
                    <div class="contact-item">
                        <i class="fas fa-envelope"></i>
                        <span>gtracingshsid@outlook.com</span>
                    </div>
                    <div class="contact-item">
                        <i class="fas fa-phone"></i>
                        <span>+86 19901637898</span>
                    </div>
                    <div class="contact-item">
                        <i class="fas fa-map-marker-alt"></i>
                        <span>Zhongxing Building B201, 400 Shangzhong Rd, Shanghai, China</span>
                    </div>
                </div>
            </div>
            <div class="copyright">
                <p>&copy; 2025 SHSID GT Racing. <span data-i18n="footer-rights">All rights reserved.</span></p>
            </div>
        </div>
    </footer>

    <script src="script.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Budget data
            const budgetData = {
                categories: {
                    labels: ['RC Car', 'Public Relations / Business', 'Mod & Maintenance'],
                    data: [8000, 6500, 10850],
                    backgroundColor: [
                        'rgba(255, 215, 0, 0.8)',  // Gold
                        'rgba(229, 183, 59, 0.8)', // Lighter gold
                        'rgba(184, 134, 11, 0.8)'  // Darker gold
                    ],
                    borderColor: [
                        'rgba(255, 215, 0, 1)',
                        'rgba(229, 183, 59, 1)',
                        'rgba(184, 134, 11, 1)'
                    ]
                },
                items: {
                    labels: [
                        'RC Car', 'RC Car Frame', 'Titanium + Carbon Fiber Parts',
                        'Team Jerseys', 'Booth Decoration', 'Merchandise and Gifts', 'Business Backup Budget', 'Material Delivery Fee',
                        'Car Shell + Spray Paint', 'Battery', 'Power Unit Modification', 'Suspension', 'Transmission',
                        'Backup Tools', 'Vehicle Handbag', 'Electric Drill+Bit', 'Electric Grinder', 'General screws (m3, m4)'
                    ],
                    data: [
                        3000, 3000, 2000,
                        1000, 2000, 1000, 2000, 500,
                        1800, 2000, 2500, 1000, 1200, 1000, 400, 800, 200, 150
                    ],
                    backgroundColor: Array(18).fill().map((_, i) => {
                        // Create gold gradient
                        const goldBase = 215;
                        const goldVariation = Math.floor(goldBase * (0.7 + (i * 0.02)));
                        return `rgba(255, ${goldVariation}, 0, 0.8)`;
                    }),
                    borderColor: Array(18).fill().map((_, i) => {
                        const goldBase = 215;
                        const goldVariation = Math.floor(goldBase * (0.7 + (i * 0.02)));
                        return `rgba(255, ${goldVariation}, 0, 1)`;
                    })
                }
            };
            
            // Chart configuration
            const ctx = document.getElementById('budgetChart').getContext('2d');
            let currentChart = null;
            let currentView = 'category';
            
            // Function to create/update the chart
            function createChart(view) {
                const data = budgetData[view === 'category' ? 'categories' : 'items'];
                
                // Destroy previous chart if it exists
                if (currentChart) {
                    currentChart.destroy();
                }
                
                // Create new chart
                currentChart = new Chart(ctx, {
                    type: view === 'category' ? 'pie' : 'bar',
                    data: {
                        labels: data.labels,
                        datasets: [{
                            label: 'Budget (¥)',
                            data: data.data,
                            backgroundColor: data.backgroundColor,
                            borderColor: data.borderColor,
                            borderWidth: 1
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: view === 'category' ? 'right' : 'top',
                                labels: {
                                    color: '#ffffff',
                                    font: {
                                        family: 'DM Sans',
                                        size: 12
                                    }
                                }
                            },
                            tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        const label = context.label || '';
                                        const value = context.raw || 0;
                                        return label + ': ¥' + value.toLocaleString();
                                    }
                                }
                            }
                        },
                        scales: {
                            x: {
                                display: view !== 'category',
                                grid: {
                                    color: 'rgba(255, 255, 255, 0.1)'
                                },
                                ticks: {
                                    color: '#ffffff',
                                    font: {
                                        family: 'DM Sans'
                                    }
                                }
                            },
                            y: {
                                display: view !== 'category',
                                grid: {
                                    color: 'rgba(255, 255, 255, 0.1)'
                                },
                                ticks: {
                                    color: '#ffffff',
                                    callback: function(value) {
                                        return '¥' + value;
                                    },
                                    font: {
                                        family: 'DM Sans'
                                    }
                                }
                            }
                        }
                    }
                });
            }
            
            // Initialize the chart with the category view
            createChart('category');
            
            // Add event listeners to the view selector buttons
            document.querySelectorAll('.chart-btn').forEach(button => {
                button.addEventListener('click', function() {
                    const view = this.dataset.chart;
                    
                    if (view !== currentView) {
                        // Update active button
                        document.querySelectorAll('.chart-btn').forEach(btn => {
                            btn.classList.remove('active');
                        });
                        this.classList.add('active');
                        
                        // Update chart
                        createChart(view);
                        currentView = view;
                        
                        // Update budget detail visibility
                        document.querySelectorAll('.budget-item').forEach(item => {
                            item.classList.remove('active');
                        });
                        
                        if (view === 'category') {
                            document.querySelector('.budget-item[data-category="rc-car"]').classList.add('active');
                        }
                    }
                });
            });
            
            // Add event listeners to show detailed budget items on pie chart segment click
            document.getElementById('budgetChart').addEventListener('click', function(evt) {
                // Only handle clicks when in category view
                if (currentView !== 'category') return;
                
                const activePoints = currentChart.getElementsAtEventForMode(
                    evt, 'nearest', { intersect: true }, false
                );
                
                if (activePoints.length > 0) {
                    const clickedIndex = activePoints[0].index;
                    const categories = ['rc-car', 'pr-business', 'mod-maintenance'];
                    const categoryName = categories[clickedIndex];
                    
                    // Hide all budget items
                    document.querySelectorAll('.budget-item').forEach(item => {
                        item.classList.remove('active');
                    });
                    
                    // Show the clicked category's budget details
                    document.querySelector(`.budget-item[data-category="${categoryName}"]`).classList.add('active');
                }
            });

        });
    </script>
</body>
</html>